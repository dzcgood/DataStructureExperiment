# 数据结构实验二：二叉树

## 实验内容

实现学生通讯录管理的几个操作功能（新建、插入、删除、从文件读取、写入文件和查询、屏幕输出等功能）。通讯录中学生的信息有学号、姓名、出生日期、性别、电话和地址等

## 必做内容

+ 利用二叉链式存储结构来实现
+ 系统的菜单功能项如下：
  + 新建学生通讯录（以层次遍历的方式进行学生信息的输入）
  + 向学生通讯录插入学生信息
  + 在通讯录中查询学生信息（按学号查询）
  + 在通讯录中查询学生信息（按姓名查询）
  + 在通讯录中查询学生信息（按电话号码查询）
  + 在通讯录删除学生信息（先按上述3-5定位被删除学生）
  + 输出年龄最小的学生信息
  + 在屏幕中输出全部学生信息（可以选择遍历的方式）
  + 从文件中读取通讯录信息
  + 向文件写入学生通讯录信息
  + 退出

+ 生成一个达百万个学生数据信息的通讯录文件，并让该系统管理这个学生通讯录。
+ 如果如果学生人数超过千万的时候，会出现什么现象，你认为该如何解决？最后把上述问题的解决方案写入到实验文档中。
+ 分析系统的整体性性能，并思考原因以及解决方案。最后把相应的研究分析报告书写入到实验文档中。

## 选做内容

用MFC的单文档窗口和菜单设计界面（***这里我使用QT***）

## 实现思路

### DOS实现思路

+ 学生通讯录管理系统共包括student.h、studentDataBase.h   studentDataBase.cpp、randomData.cpp、main.cpp 五个文件
+ student结构用于存放单个学生对象的信息，以及对运算符的重载（输入，输出，赋值运算符）。
+ 定义了三个辅助结构nameTreeNode，numberTreeNode，phoneNumTreeNode，分别用于构成以姓名、学号、电话为关键字的二叉搜索树作为辅助树，进行搜索时，先通过搜索树找到目标结点的地址，通过访问地址去访问目标结点。以nameTreeNode为例，它包括一个字符数组和一个指向student的指针，以及leftChild和rightChild指针。它将以学生的姓名为关键字构建出一个二叉搜索树作为辅助结构，进行查找时，先通过二叉搜索树，取出目标关键字所在结点，通过访问该结点的student指针就可以获得目标结点的地址，之后访问目标节点地址即可
+ studentDataBase类用于构建二叉树以及各种对链表的操作实现系统的功能（添加，删除等等），建立二叉树时，以层次序遍历的方式建立
+ main函数中使用了函数指针数组来代替switch，提升了效率。用于显示菜单、接受用户指令并调用对应的函数
+ randomData.cpp文件用于随机产生百万数据并存储在randomData.dat文件中

### GUI实现思路

核心代码的思路***和DOS中一致***，具体请参照experiment1中的GUI实现思路

## 说明

+ 本程序采用CUI和GUI两种方式实现
  + CUI部分使用Visual Studio平台实现
  + GUI部分使用Qt平台实现，使用时请将文件放在不包含中文字符的路径中。（我也不知道什么原因，只要路径中出现中文字，就会报错，导致编译失败，在CSDN中也有类似问题的帖子，但是没有找到合适的使用方法
  + GUI部分在读取百万数据的时候会炸掉，应该是数据太大了
  + 以二叉搜索树作为辅助结构来执行添加删除查找等操作。删除时，执行假删除操作。将学生结构体的各项属性都换成了char数组，解决了读取百万数据的问题。效率较version1提升。
    解决了之前出现的读取问题，暂时没有发现严重bug。（***自带testdata.dat文件供测试***）

+ 写得不好，仅供参考，对付浴帘的作业还是没问题的哈哈哈哈哈，期末平时分给了91，溜~
