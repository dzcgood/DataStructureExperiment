# 数据结构实验三：哈夫曼树

## 实验内容

利用哈夫曼编码进行通信可以大大提高利用率，缩短信息传输时间，降低传输成本。但是，这就要求在发送端通过一个编码系统对待传数据预先编码，在接收端将传来的数据进行译码（复原），对于双工通信（即可以双向传输信息的信道），每端都需要一个完整的编译码系统。试为这样的信息收发站写一个哈夫曼的编/译码系统。

### 必做内容

+ 初始化（Initialization）。从终端读入字符集大小n以及n个字符和n个权值，建立哈夫曼树，并将它存于文件hfmTree中。
+ 编码（Encoding）。利用已建好的哈夫曼树（如不在内存，则从hfmTree中读入），对文件ToBeTran中的正文进行编码，然后将结果存入文件CodeFile中。
+ 译码（Decoding）。利用已建好的哈夫曼树将文件CodeFile中的代码进行译码，结果存入文件TextFile中。
+  打印代码文件（Print）。将文件CodeFile以紧凑格式显示在屏幕上，每行50个二进制代码。同时将此字符形式的编码文件写入CodePrin中。
+  打印哈夫曼树（TreePrinting）。将已在内存中的哈夫曼树以直观的方式（树或凹入形式）显示在屏幕上，同时将此字符形式的哈夫曼树写入文件TreePrin中。
+  其他辅助功能：实现各个转换操作的源/目标文件，均由用户在选择此操作时指定。

### 选做内容

用MFC的单文档窗口和菜单设计界面。（***当时时间紧迫加上我太懒，所以没写GUI，以后有机会再写吧hhh***）

## 实验目的

+ 加深对哈夫曼树实现算法的理解。
+ 加深对二叉树遍历算法的理解。
+  加深对数据结构中链表、顺序表、堆、文件等基本操作以及实现算法的理解，以便在解决实际问题中灵活运用它们。
+ 加深对各种课程各种基本概念、基本结构和基本操作的理解。

## 说明

通过检查CodeFile文件容量来进行分析，为提高压缩效率，我前前后后一共写了四个版本的系统。

+ version1： 对01编码的字符串不做处理直接存入编码文件，能够正确编码，解码，但是压缩后的文件大小反而比压缩前更大。如17kb的未压缩文件压缩后变成了20kb以上。

+ version2：在version1基础上，对01编码的字符串转成10进制数存储，因为刚开始做的时候不太搞清楚整个过程，为了方便看见读写结果，所以在读写文件的时候采用了ASCLL的读写方式，总的来看，压缩、解压结果是正确的，压缩率比version1有所提升，但是因为ASCLL读写方式需要写入大量的空格，所以压缩后文件大小还是比压缩前略微更大。

+ version3：在version2的基础上，将01编码的字符串转成了十进制数字存储，且采用二进制文件读写方式。进一步提升了压缩率，压缩后文件大小比压缩前有所减小，但是因为使用了short的整形数据，将原先8个二进制串当成2字节写入文件，导致压缩效率没有明显提升，但相比version2，version3已经实现了压缩后文件小于压缩前文件。

+ version4：考虑到8位二进制码最大表示数为255，所以将version3中写入压缩文件的数据类型改成了1字节的unsigned char，以及对其他细节进行了优化，相比与两个字节的short，这极大的提升了压缩率，对于6000字的英文文章，压缩前的文件大小为34k，压缩后文件大小为17k，压缩率提升效果显著。

前三个版本不是很符合实验逻辑，此处仅供version4代码，有需要的可以找我要。


